# `tzxcleanup`

The only purpose of this tool is to post-process and clean up TZX files **that have been just generated by a tape converter**. It will set idealized timings for ZX Spectrum blocks where applicable. It will remove all unnecessary blocks, like comment blocks or (optionally) blocks with a bad CRC.

The result might not be loadable at all, so be careful and keep a backup of the original file.

It is not necessary to use this tool on the output of [`tzxwav`](tzxwav.md), as it wouldn't change anything.

Use [`tzxcut`](tzxcut.md) to manually clean up all kind of TZX files.

This tool also accepts a TAP file. It is converted to TZX format internally.

## Usage

```
tzxcleanup [-h] [-o TARGET] [-c] [file]
```

* `file`: TZX file to read from, or `stdin` if not given.
* `-o`, `--to`: Target file. If omitted, `stdout` is used.
* `-c`, `--stripcrc`: Also remove all data blocks with a bad CRC. They would usually lead to a "tape loading error".
* `-H`, `--headermustmatch`: Remove all blocks that are not preceeded by a matching header.
* `-h`, `--help`: Show help message and exit.

## Example

```
tzxcleanup recording.tzx | tzxls -l
```

Shows the content of a cleaned-up `recording.tzx` file.

```
tzxcleanup -o game.tzx recording.tzx
```

Cleans up a raw `recording.tzx` file and writes it to `game.tzx`.
